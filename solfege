#!/usr/bin/nodejs -i

var ch = require( 'chromatic' );

var argv = Array.prototype.slice.call( process.argv );
argv.shift();
argv.shift();

function normalizeArguments( args ) {
	var result = [];
	for ( var i=0; i<args.length; i++ ) {
		result = result.concat( args[i].trim().split(  / +/ ) );
	}
	return result;
}

argv = normalizeArguments( argv );


if ( argv[0] === '-' ) {
	var readline = require('readline');
	var rl = readline.createInterface({
	  input: process.stdin,
	  output: process.stdout,
	  terminal: false
	});

	rl.on( 'line', function( line ) {
		var arr = line.trim().split( / +/ );
		process.stdout.write( ch.transpose( arr.shift(), arr ).join( ' ' ) + '\n' );

	});
} else {
	process.stdout.write( ch.transpose( argv.shift(), argv ).join( ' ' ) + '\n' );
}



// vim: filetype=javascript :
